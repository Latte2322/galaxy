<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='UTF-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>Galaxy</title>
    <script src='https://kit.fontawesome.com/f77600b8df.js' crossorigin='anonymous'></script>
    <script src='https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js'></script>
    <link rel="stylesheet" href="sssss.css" />
</head>
<body>
    <nav>
        <div class='nav-item' onclick="document.getElementById('about').scrollIntoView({behavior: 'smooth'});">Проєкт</div>
        <div class='nav-item' onclick="document.getElementById('team').scrollIntoView({behavior: 'smooth'});">Команда</div>
        <div class='nav-item' onclick="document.getElementById('merch').scrollIntoView({behavior: 'smooth'});">Мерч</div>
        <div class='nav-item' onclick="document.getElementById('submit').scrollIntoView({behavior: 'smooth'});">Заявка</div>
        <div class='nav-item'><span class='cart-text'>Кошик</span> <span class='cart-amount'>0</span></div>
        <div class='nav-item switch-theme-button'>Змінити тему</div>
    </nav>
    <header>
        <h1>Летимо на <span class='mars mars1'>Марс</span></h1>
        <div class='arrow-next'><i class='fa-solid fa-arrow-down'></i></div>
    </header>
    <main>
        <section class='section1' id='about'>
            <h1>Про проєкт</h1>
            <div class='about-wrapper'>
                <p>За часів активного освоєння космосу, польоти на Місяць стали доступні багатим людям з розвинених країн. Відтоді минуло кілька сотень років, за які розвиток технологій зробив новий виток. Зараз польотами на Місяць <i>нікого не здивувати</i>.</p>
                <p>Якщо ви хочете випробувати нові відчуття, вийти за рамки і привнести у своє життя щось кардинально нове - у вас є всі шанси стати одним із перших щасливчиків, які підкорили глибини космосу. Уперше в історії людства ми робимо доступними польоти на <span class='mars mars2'><b>Марс</b></span>.</p>
                <p>Досі Червоного Гіганта підкорювали лише вчені та дослідники. Знадобилися сотні років і не одна технічна революція, щоб <span class='mars mars3'>Марс</span> став придатним для колоніального життя і приватних візитів. Проєкт Galaxy першим отримав унікальне право організації приватних рейсів на <span class='mars mars4'>Марс</span>.</p>
                <p>Ласкаво просимо в <b>новий світ</b>.</p>
            </div>
        </section>
        <section class='section2' id='team'>
            <h1>Команда</h1>
            <div class='team-wrapper'>
                <div class='team-item team1'>
                    <div class='team-item-top'></div>
                    <div class='team-item-bottom'>
                        <h2>Джамал</h2>
                        <p>Капітан корабля. За плечима десятки польотів і згуртована команда.</p>
                    </div>
                </div>
                <div class='team-item team2'>
                    <div class='team-item-top'></div>
                    <div class='team-item-bottom'>
                        <h2>Артем</h2>
                        <p>Перший пілот. Підніме і приземлить будь-який корабель.</p>
                    </div>
                </div>
                <div class='team-item team3'>
                    <div class='team-item-top'></div>
                    <div class='team-item-bottom'>
                        <h2>Данило</h2>
                        <p>Другий пілот.</p>
                    </div>
                </div>
            </div>
        </section>
        <section class='section4' id='merch'>
            <h1>Мерч</h1>
            <div class='merch-wrapper'>
                <div class='merch-item merch1'>
                    <div class='merch-item-top'></div>
                    <div class='merch-item-bottom'>
                        <h2 class='merch-item-name'>[назва]</h2>
                        <p class='merch-item-descr'>[опис]</p>
                        <div class='add-to-cart-group'>
                            <div class='add-to-cart-btn'><i class='fa-solid fa-cart-shopping'></i></div>&nbsp;- <span class='merch-item-price'>[ціна]</span>грн.
                        </div>
                    </div>
                </div>
                <div class='merch-item merch2'>
                    <div class='merch-item-top'></div>
                    <div class='merch-item-bottom'>
                        <h2 class='merch-item-name'>[назва]</h2>
                        <p class='merch-item-descr'>[опис]</p>
                        <div class='add-to-cart-group'>
                            <div class='add-to-cart-btn'><i class='fa-solid fa-cart-shopping'></i></div>&nbsp;- <span class='merch-item-price'>[ціна]</span>грн.
                        </div>
                    </div>
                </div>
                <div class='merch-item merch3'>
                    <div class='merch-item-top'></div>
                    <div class='merch-item-bottom'>
                        <h2 class='merch-item-name'>[назва]</h2>
                        <p class='merch-item-descr'>[опис]</p>
                        <div class='add-to-cart-group'>
                            <div class='add-to-cart-btn'><i class='fa-solid fa-cart-shopping'></i></div>&nbsp;- <span class='merch-item-price'>[ціна]</span>грн.
                        </div>
                    </div>
                </div>
                <div class='merch-item merch4'>
                    <div class='merch-item-top'></div>
                    <div class='merch-item-bottom'>
                        <h2 class='merch-item-name'>[назва]</h2>
                        <p class='merch-item-descr'>[опис]</p>
                        <div class='add-to-cart-group'>
                            <div class='add-to-cart-btn'><i class='fa-solid fa-cart-shopping'></i></div>&nbsp;- <span class='merch-item-price'>[ціна]</span>грн.
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class='section3' id='submit'>
            <div class='submit-wrapper'>
                <h1>Заявка</h1>
                <div class='submit-form'>
                    <input class='submit-input' type='text' placeholder="ім'я">
                    <p class='submit-input-label'>ім'я</p>
                    <input class='submit-input' type='email' placeholder='e-mail'>
                    <p class='submit-input-label'>e-mail</p>
                    <input class='submit-input' type='text' placeholder='телефон'>
                    <p class='submit-input-label'>номер телефону</p>
                    <div class='submit-input-row'>
                        <div class='group'>
                            <input class='submit-input row-item days-input' type='number' placeholder='дні'>
                            <p class='submit-input-label'>днів на <span class='mars mars5'>Марсі</span></p>
                        </div> 
                        <div class='group'>
                            <select class='submit-select row-item' placeholder='каюта'>
                                <option value='1000' selected='selected'>Базовий</option>
                                <option value='2000'>Преміум</option>
                                <option value='3000'>Люкс</option>
                            </select>
                            <p class='submit-input-label'>клас каюти</p>
                        </div> 
                    </div>
                </div>
                <div class='submit-btn-row'>
                    <div class='submit-btn submit-btn-calc'>Вартість</div>
                    <div class='submit-btn submit-btn-send'>Відправити</div>
                </div>
            </div>
        </section>
    </main>
    <script src="dd.js"></script>
</body>
</html>

<script>
// Будь ласка, не змінюй код нижче. Він необхідний для правильного налаштування позиціонування елементів :)
let team1 = document.querySelector('.team1')
let team2 = document.querySelector('.team2')
let team3 = document.querySelector('.team3')
let height = Math.max(parseInt(getComputedStyle(team1).getPropertyValue('height')), parseInt(getComputedStyle(team2).getPropertyValue('height')), parseInt(getComputedStyle(team3).getPropertyValue('height')))
team1.style.height = `${height}px`
team2.style.height = `${height}px`
team3.style.height = `${height}px`

function scrollDown() {
    window.scrollTo({top: window.innerHeight, behavior: 'smooth' });
}

let button = document.querySelector('.arrow-next')
button.addEventListener('click', scrollDown)

// Код, який потрібно виправити
let item_name_objects = document.querySelectorAll('.merch-item-name')
let item_names = ['Тарілка', 'Чашка', 'Ракета', 'Марсохід']
for (let i = 0; i < item_name_objects.length; i += 1) {
    item_name_objects[i].innerHTML = item_names[i]
}

let item_descriptions = ['Тарілка з принтом Марсу. Доступна в червоному та білому кольорах', 'Чашка з принтом Марса. Доступна в червоному і білому кольорах', 'Масштабна модель однієї з ракет Galaxy', 'Масштабна модель масохода (ми купуємо їх у NASA)']
let item_prices = [1000, 1000, 2500, 5000]
let item_description_objects = document.querySelectorAll('.merch-item-descr')
let item_price_objects = document.querySelectorAll('.merch-item-price')
for (let i = 0; i < item_description_objects.length; i += 1) {
    item_description_objects[i].innerHTML = item_descriptions[i]
    item_price_objects[i].innerHTML = item_prices[i]
}
 

let total_price = 0
let cart_items_count = document.querySelector('.cart-amount')
let add_to_cart_buttons = document.querySelectorAll('.add-to-cart-btn')

let cart_button = document.querySelectorAll('.nav-item')[4]
let cart_button_text = cart_button.querySelector('.cart-text')

for (let i = 0; i < add_to_cart_buttons.length; i += 1) {
    add_to_cart_buttons[i].addEventListener('click', function() {
        cart_items_count.innerHTML = +cart_items_count.innerHTML + 1
        total_price += item_prices[i]
        if (cart_button_text.innerHTML != 'Кошик') {
            cart_button_text.innerHTML = total_price
        }

        anime({
            targets: this,
            scale: [
                { value: 1.1, duration: 100, easing: 'easeOutQuad' },
                { value: 1, duration: 200, easing: 'easeInQuad' }
            ],
            rotate: [
                { value: 5, duration: 50, easing: 'easeOutQuad' },
                { value: -5, duration: 100, easing: 'easeOutQuad' },
                { value: 0, duration: 50, easing: 'easeInQuad' }
            ]
        });

        anime({
            targets: cart_items_count,
            scale: [
                { value: 1.3, duration: 100, easing: 'easeOutQuad' },
                { value: 1, duration: 200, easing: 'easeInQuad' }
            ]
        });
    })
}
cart_button.addEventListener('click', function() {
    if (cart_button_text.innerHTML == 'Кошик') {
        cart_button_text.innerHTML = total_price
    } else {
        cart_button_text.innerHTML = 'Кошик'
    }

    anime({
        targets: cart_button,
        scale: [
            { value: 1.05, duration: 100, easing: 'easeOutQuad' },
            { value: 1, duration: 200, easing: 'easeInQuad' }
        ],
        duration: 300
    });
})


// Код, який змінює тему
function change_theme() {
    let header = document.querySelector('header')
    if (current_background == 'url(/uploads/2022/11/bg_space.png)') {
        current_background = 'url(/uploads/2022/11/bg_mars.png)'
    } else {
        current_background = 'url(/uploads/2022/11/bg_space.png)'
    }
    
    anime({
        targets: 'header',
        opacity: [
            { value: 0, duration: 500, easing: 'linear' },
            { value: 1, duration: 500, easing: 'linear' }
        ],
        background: [
            { value: current_background, duration: 0 }
        ],
        complete: function(anim) {
            header.style.background = current_background;
            header.style.backgroundSize = 'cover';
        }
    });
}
 
let change_theme_button = document.querySelector('.switch-theme-button')
let current_background = 'url(/uploads/2022/11/bg_space.png)'
change_theme_button.addEventListener('click', change_theme)
 

// Підрахунок вартості квитка
function calc_price() {
    let days_input = document.querySelector('.days-input')
    let days_amount = days_input.value
    if (days_amount == '') {
        days_input.style.border = '1px solid #AD4851'
        anime({
            targets: days_input,
            translateX: [
                { value: -5, duration: 50, easing: 'easeOutQuad' },
                { value: 5, duration: 50, easing: 'easeOutQuad' },
                { value: -5, duration: 50, easing: 'easeOutQuad' },
                { value: 0, duration: 50, easing: 'easeOutQuad' }
            ]
        });
    } else {
        let one_day_price = +document.querySelector('.submit-select').value
        let total = +days_amount * one_day_price
        days_input.style.border = 'none'
        days_input.style.borderBottom = '1px solid #5D4229'
        alert(`Загальна вартість: ${total} грн`)
        anime({
            targets: '.submit-btn-calc',
            scale: [
                { value: 1.05, duration: 100, easing: 'easeOutQuad' },
                { value: 1, duration: 200, easing: 'easeInQuad' }
            ],
            backgroundColor: [
                { value: '#28a745', duration: 100 },
                { value: '#C2AB99', duration: 200 }
            ]
        });
    }
}
let calc_button = document.querySelector('.submit-btn-calc')
calc_button.addEventListener('click', calc_price)


// Красива кнопка 'Відправити'
function make_transparent() {
    anime({
        targets: send_btn,
        backgroundColor: '#C2AB99',
        duration: 200,
        easing: 'linear'
    });
    send_btn.style.backgroundColor = 'transparent'
}
 
function make_colorful() {
    anime({
        targets: send_btn,
        backgroundColor: '#C2AB99',
        duration: 200,
        easing: 'linear'
    });
}

let send_btn = document.querySelector('.submit-btn-send')

send_btn.addEventListener('mouseenter', make_transparent)
send_btn.addEventListener('mouseleave', make_colorful)

// Пасхалка
function easter_egg() {
    let mars_elements = document.querySelectorAll('.mars1, .mars2, .mars3, .mars4, .mars5');
    
    anime({
        targets: mars_elements,
        color: '#AD4851',
        delay: anime.stagger(100),
        duration: 500,
        easing: 'easeInOutQuad'
    });
}
 
let mars = document.querySelector('.mars1')
mars.addEventListener('click', easter_egg)

anime({
    targets: 'body',
    backgroundPositionX: ['0%', '-100%'],
    duration: 60000,
    easing: 'linear',
    loop: true
});

let navItems = document.querySelectorAll('.nav-item');
anime({
    targets: navItems,
    opacity: [0, 1],
    translateY: [-20, 0],
    delay: anime.stagger(100, {start: 500}),
    duration: 800,
    easing: 'easeOutQuad'
});
</script>
